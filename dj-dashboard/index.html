<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>DJ Dashboard - RequestCue</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Favicon / App Icons (optional) -->
    <link rel="icon" href="favicon/favicon.ico" type="image/x-icon" />
    <link
      rel="icon"
      href="favicon/favicon-96x96.png"
      type="image/png"
      sizes="96x96"
    />
    <link
      rel="icon"
      href="favicon/favicon-16x16.png"
      type="image/png"
      sizes="16x16"
    />
    <link
      rel="icon"
      href="favicon/favicon-32x32.png"
      type="image/png"
      sizes="32x32"
    />
    <link
      rel="apple-touch-icon"
      href="favicon/apple-touch-icon.png"
      sizes="180x180"
    />
    <link rel="manifest" href="favicon/site.webmanifest" />
    <link href="screen.css" rel="stylesheet" media="screen" />
  </head>

  <body>
    <!-- Main Dashboard Application -->
    <div id="app" class="view-home" hidden>
      <header>
        <div class="topbar">
          <button id="backButton" type="button" aria-label="Back to dates">
            &larr; Back
          </button>
          <h1 id="pageTitle">RequestCue</h1>
          <span
            id="userBadge"
            style="color: var(--muted); font-size: 0.875rem"
          ></span>
          <button id="signOutBtn" type="button" aria-label="Sign out">
            Sign out
          </button>
        </div>

        <div class="controls" role="region" aria-label="Filters and sorting">
          <label>
            <span class="sr-only">Status</span>
            <select id="statusFilter">
              <option value="all">All</option>
              <option value="unplayed" selected>Unplayed</option>
              <option value="played">Played</option>
            </select>
          </label>
          <label>
            <span class="sr-only">Sort order</span>
            <select id="sortOrder">
              <option value="mostRequested">Most Requested</option>
              <option value="latestAdded">Latest Added</option>
              <option value="earliestAdded">Earliest Added</option>
              <option value="lastRequested" selected>
                Most Recently Requested
              </option>
            </select>
          </label>
          <label>
            <span class="sr-only">Decade filter</span>
            <select id="decadeFilter">
              <option value="all">All Decades</option>
            </select>
          </label>
          <label>
            <span class="sr-only">Genre filter</span>
            <select id="genreFilter">
              <option value="all">All Genres</option>
            </select>
          </label>
        </div>
      </header>

      <main>
        <div id="feed" class="feed" role="list" aria-live="polite"></div>
      </main>

      <footer class="bottom-controls">
        <button id="exportCsvBtn" type="button">Download CSV</button>
        <button id="clearAllBtn" class="clear-all-btn" type="button">
          Clear All
        </button>
      </footer>
    </div>

    <!-- Integrated Login/Sign Up Interface -->
    <div id="authContainer" class="auth-card-wrapper" hidden>
      <div class="auth-card">
        <h2 id="authTitle" class="auth-title">DJ Dashboard Login</h2>
        <div id="authError" class="auth-error-message" hidden></div>

        <form id="authForm" class="auth-form">
          <input
            type="email"
            id="emailInput"
            placeholder="Email"
            required
            autocomplete="email"
          />
          <input
            type="password"
            id="passwordInput"
            placeholder="Password"
            required
            autocomplete="current-password"
          />
          <button
            id="authPrimaryBtn"
            type="submit"
            class="auth-btn auth-primary"
          >
            Sign In
          </button>
          <button
            id="toggleAuthBtn"
            type="button"
            class="auth-btn auth-secondary"
          >
            Need an account? Sign Up
          </button>
        </form>
      </div>
    </div>

    <!-- Custom Dialog/Modal for Alerts and Confirms (Replacing alert/confirm) -->
    <div id="customDialog" class="custom-dialog-wrapper">
      <div class="custom-dialog">
        <h3 id="dialogTitle"></h3>
        <p id="dialogMessage"></p>
        <div id="dialogActions" class="dialog-actions">
          <button
            id="dialogConfirm"
            type="button"
            class="auth-btn auth-primary"
          >
            Yes
          </button>
          <button
            id="dialogCancel"
            type="button"
            class="auth-btn auth-secondary"
          >
            Cancel
          </button>
        </div>
      </div>
    </div>
    <script>
      window.__firebase_config = JSON.stringify({
        apiKey: "AIzaSyBLZp3f5WAWkAJDpBidh-C2mib2nhnLys4",

        authDomain: "song-request-a8a68.firebaseapp.com",

        projectId: "song-request-a8a68",

        storageBucket: "song-request-a8a68.firebasestorage.app",

        messagingSenderId: "522633732679",

        appId: "1:522633732679:web:564894980a2e0484828762",

        measurementId: "G-H6NY9N42JF",
      });
    </script>

    <script type="module" src="scripts.js"></script>
  </body>
</html>
